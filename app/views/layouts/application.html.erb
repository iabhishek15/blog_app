<!DOCTYPE html>
<html>
  <head>
    <title>BlogApp</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'%>

    <%= javascript_include_tag 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'%>
    <%= javascript_include_tag 'https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js'%>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>

  </head>

  <body>
<div class='container'>
  <div class="logo">
    <h1>
      <%= link_to home_path do %>
        <span>Blog</span>App<p>Write a Blog</p>
      <% end %>
    </h1>
  </div>
</div>

<div class = 'container-fluid' id = 'nav'>
  <nav class="navbar navbar-default navbar-inverse" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <%= link_to 'Home', home_path, class:"navbar-brand home" %>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><%= link_to 'Add Article', article_new_path, class:'addArticle' %></li>
          <li><%= link_to 'About', about_path,class:'about' %></li>
          <li><%= link_to 'Contact', contact_path,class:'contact' %></li>
          <li><%= link_to 'Support', support_path ,class:'support'%></li>

        </ul>

        <ul class="nav navbar-nav navbar-right">
          <% if current_user %>
            <li>
              <%= link_to account_path do %>
                <%= current_user.username %>
              <% end %>
            </li>
            <li>
              <%= link_to logout_path do %>
                <span class="glyphicon glyphicon-log-out"></span> Logout
              <% end %>
            </li>
          <% else %>
            <li>
              <%= link_to signup_path do %>
                <span class="glyphicon glyphicon-user"></span> Sign Up
              <% end %>
            </li>
            <li>
              <%= link_to login_path do %>
                <span class="glyphicon glyphicon-log-in"></span> Login
              <% end %>
            </li>
          <% end %>
        </ul>
        <form class="navbar-form navbar-left">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search" name="username">
            <div class="input-group-btn">
              <button class="btn btn-default" type="submit">
                <i class="glyphicon glyphicon-search"></i>
              </button>
            </div>
          </div>
        </form>

      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
</div>

<div class = 'container' id = 'mainContainer'>
  <div class = 'row'>
    <% #content %>
    <div class = 'col-sm-9' id = 'content'>
      <%= yield %>
    </div>
     <% #sidebar %>
    <div class = 'col-sm-3'>
      <div class="gadget">
        <h3 class="star"><span>Categories</span></h3>
        <ul class="list-group list-group-flush sb_menu">
          <li class = "list-group-item"><a href="#">Education</a></li>
          <li class = "list-group-item"><a href="#">Entertainment</a></li>
          <li class = "list-group-item"><a href="#">Sports</a></li>
          <li class = "list-group-item"><a href="#">Fashion</a></li>
          <li class = "list-group-item"><a href="#">News</a></li>
        </ul>
      </div>
      <div class="gadget">
        <h3 class="star"><span>Recent Blogs</span></h3>
        <ul class="list-group recent_menu">
        <% @articles.limit([5, @articles.count].min).order('created_at DESC').each do |article| %>
          <li class='list-group-item'> <!-- article_show_path(article.id) -->
            <%= link_to "#{article.title}", article_show_path(article.id) %><br />
            <span class='subHeading'>November 2021 | posted by <%= User.find(article.user_id).username %></span>
          </li>
        <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>

<% #footer %>
<div class = 'container footer'>
  <div class="row fbg">
    <div class="col-sm-4">
      <h3><span>About</span></h3>
      <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec libero. Suspendisse bibendum.
        Cras id urna. Morbi tincidunt, orci ac convallis aliquam, lectus turpis varius lorem, eu posuere
        nunc justo tempus leo. llorem, eu posuere nunc justo tempus leo. Donec mattis, purus nec placerat
        bibendum. <%= link_to 'Learn more...', about_path%></p>
    </div>
    <div class="col-sm-4">
      <h3 class="star"><span>Categories</span></h3>
      <ul class="list-group list-group-flush sb_menu ft_cat">
        <li class = "list-group-item"><a href="#">Education</a></li>
        <li class = "list-group-item"><a href="#">Entertainment</a></li>
        <li class = "list-group-item"><a href="#">Sports</a></li>
        <li class = "list-group-item"><a href="#">Fashion</a></li>
        <li class = "list-group-item"><a href="#">News</a></li>
      </ul>
    </div>
    <div class="col-sm-4">
      <h3>Contact</h3>
      <p>Praesent dapibus, neque id cursus faucibus, tortor neque egestas augue.</p>
      <p><a href="#">support@yoursite.com</a></p>
      <p>+1 (123) 444-5677<br />
        +1 (123) 444-5678</p>
      <p>Address: 123 TemplateAccess Rd1</p>
    </div>
  </div>
</div>

<% #footer link %>
<div class="container foot">
  <span class="lf">Copyright &copy; 2021 <a href="#">BlogApp</a> - All Rights Reserved</span>
  <span class="rf">Design by <a href="https://www.linkedin.com/in/abhishek-singh-b5b399203/">Abhishek Singh</a></span>
</div>
<!-- END PAGE SOURCE -->

<%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
</body>
</html>
